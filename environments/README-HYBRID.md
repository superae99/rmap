# í•˜ì´ë¸Œë¦¬ë“œ ë°°í¬ ì‹œìŠ¤í…œ ì‚¬ìš©ë²•

## ğŸ“ ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
New_Map_Project/
â”œâ”€â”€ ğŸ“‚ src/                        # ì†ŒìŠ¤ ì½”ë“œ (Git ê´€ë¦¬)
â”‚   â”œâ”€â”€ client/                    # React í”„ë¡ íŠ¸ì—”ë“œ
â”‚   â””â”€â”€ server/                    # Node.js ë°±ì—”ë“œ
â”‚
â”œâ”€â”€ ğŸ“‚ deployments/                # ë°°í¬ëœ ì½”ë“œ (Git ì œì™¸)
â”‚   â”œâ”€â”€ dev/                       # ê°œë°œ í™˜ê²½ ì‹¤í–‰ ì½”ë“œ
â”‚   â”œâ”€â”€ test/                      # í…ŒìŠ¤íŠ¸ í™˜ê²½ ì‹¤í–‰ ì½”ë“œ
â”‚   â””â”€â”€ prod/                      # ìš´ì˜ í™˜ê²½ ì‹¤í–‰ ì½”ë“œ
â”‚
â”œâ”€â”€ ğŸ“‚ environments/               # í™˜ê²½ë³„ ì„¤ì •
â”‚   â”œâ”€â”€ dev/                       # ê°œë°œ í™˜ê²½ ì„¤ì •
â”‚   â”œâ”€â”€ test/                      # í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ì •
â”‚   â”œâ”€â”€ prod/                      # ìš´ì˜ í™˜ê²½ ì„¤ì •
â”‚   â””â”€â”€ deploy-hybrid.sh           # í•˜ì´ë¸Œë¦¬ë“œ ë°°í¬ ìŠ¤í¬ë¦½íŠ¸
â”‚
â””â”€â”€ ğŸ“‚ ê¸°íƒ€ ë””ë ‰í† ë¦¬ë“¤
```

## ğŸš€ ê¸°ë³¸ ì‚¬ìš©ë²•

### 1. í™˜ê²½ ì´ˆê¸°í™”
```bash
cd environments
./deploy-hybrid.sh dev init
```

### 2. ì½”ë“œ ë™ê¸°í™” (src â†’ deployments)
```bash
./deploy-hybrid.sh dev sync
```

### 3. í™˜ê²½ ì‹œì‘
```bash
./deploy-hybrid.sh dev up
```

### 4. í•œ ë²ˆì— ë°°í¬ (sync + up)
```bash
./deploy-hybrid.sh dev deploy
```

## ğŸ“‹ ëª…ë ¹ì–´ ì„¤ëª…

| ëª…ë ¹ì–´ | ì„¤ëª… | ì‚¬ìš© ì˜ˆì‹œ |
|--------|------|----------|
| `init` | í™˜ê²½ ì´ˆê¸°í™” | `./deploy-hybrid.sh dev init` |
| `sync` | ì†ŒìŠ¤ ì½”ë“œ ë™ê¸°í™” | `./deploy-hybrid.sh dev sync` |
| `up` | ì„œë¹„ìŠ¤ ì‹œì‘ | `./deploy-hybrid.sh dev up` |
| `down` | ì„œë¹„ìŠ¤ ì¤‘ì§€ | `./deploy-hybrid.sh dev down` |
| `deploy` | ë™ê¸°í™” + ì‹œì‘ | `./deploy-hybrid.sh dev deploy` |
| `status` | ìƒíƒœ í™•ì¸ | `./deploy-hybrid.sh dev status` |
| `logs` | ë¡œê·¸ ë³´ê¸° | `./deploy-hybrid.sh dev logs` |
| `backup` | DB ë°±ì—… | `./deploy-hybrid.sh prod backup` |

## ğŸ”„ ê°œë°œ ì›Œí¬í”Œë¡œìš°

### 1. ê°œë°œ ì‘ì—…
```bash
# srcì—ì„œ ì½”ë“œ ìˆ˜ì •
cd src/client
# ì½”ë“œ ì‘ì—…...

# ë˜ëŠ” ê°œë°œ ì„œë²„ ì§ì ‘ ì‹¤í–‰
npm run dev
```

### 2. ê°œë°œ í™˜ê²½ í…ŒìŠ¤íŠ¸
```bash
# ì½”ë“œë¥¼ ê°œë°œ í™˜ê²½ìœ¼ë¡œ ë™ê¸°í™”
./deploy-hybrid.sh dev sync

# ê°œë°œ í™˜ê²½ ì‹œì‘
./deploy-hybrid.sh dev up

# ë¸Œë¼ìš°ì €ì—ì„œ í…ŒìŠ¤íŠ¸
# http://localhost:3000
```

### 3. í…ŒìŠ¤íŠ¸ í™˜ê²½ ë°°í¬
```bash
# ì½”ë“œë¥¼ í…ŒìŠ¤íŠ¸ í™˜ê²½ìœ¼ë¡œ ë™ê¸°í™”
./deploy-hybrid.sh test sync

# í…ŒìŠ¤íŠ¸ í™˜ê²½ ì‹œì‘
./deploy-hybrid.sh test up
```

### 4. ìš´ì˜ í™˜ê²½ ë°°í¬
```bash
# ë°±ì—… ë¨¼ì €!
./deploy-hybrid.sh prod backup

# ìš´ì˜ ë°°í¬ (í™•ì¸ í•„ìš”)
./deploy-hybrid.sh prod deploy
```

## ğŸ” í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

ê° í™˜ê²½ë³„ë¡œ ì„¤ì • íŒŒì¼ ìˆ˜ì •:
```bash
# ê°œë°œ í™˜ê²½
nano environments/dev/.env.server
nano environments/dev/.env.client

# í…ŒìŠ¤íŠ¸ í™˜ê²½
nano environments/test/.env.server
nano environments/test/.env.client

# ìš´ì˜ í™˜ê²½
nano environments/prod/.env.server
nano environments/prod/.env.client
```

## ğŸ“Œ ì£¼ì˜ì‚¬í•­

1. **ì†ŒìŠ¤ ì½”ë“œ ìˆ˜ì •ì€ í•­ìƒ `src/`ì—ì„œ**
   - deployments í´ë”ì˜ ì½”ë“œëŠ” ì§ì ‘ ìˆ˜ì •í•˜ì§€ ë§ˆì„¸ìš”
   - ìˆ˜ì • í›„ `sync` ëª…ë ¹ìœ¼ë¡œ ë™ê¸°í™”

2. **í™˜ê²½ë³„ ë…ë¦½ì„±**
   - ê° í™˜ê²½ì€ ì™„ì „íˆ ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤
   - í•œ í™˜ê²½ì˜ ë¬¸ì œê°€ ë‹¤ë¥¸ í™˜ê²½ì— ì˜í–¥ì„ ì£¼ì§€ ì•ŠìŠµë‹ˆë‹¤

3. **ìš´ì˜ ë°°í¬ ì‹œ**
   - í•­ìƒ ë°±ì—…ì„ ë¨¼ì € ìˆ˜í–‰í•˜ì„¸ìš”
   - í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œ ì¶©ë¶„íˆ ê²€ì¦ í›„ ë°°í¬

## ğŸ› ï¸ ë¬¸ì œ í•´ê²°

### ë™ê¸°í™”ê°€ ì•ˆ ë  ë•Œ
```bash
# rsync ì„¤ì¹˜ í™•ì¸
which rsync

# ìˆ˜ë™ ë™ê¸°í™”
rsync -av --delete src/client/ deployments/dev/client/
```

### Docker ê´€ë ¨ ë¬¸ì œ
```bash
# Docker ìƒíƒœ í™•ì¸
docker ps

# í™˜ê²½ ì¬ì‹œì‘
./deploy-hybrid.sh dev down
./deploy-hybrid.sh dev up
```

### í¬íŠ¸ ì¶©ëŒ
- ê°œë°œ: 3000, 5001, 3306
- í…ŒìŠ¤íŠ¸: 8080
- ìš´ì˜: 80, 443

## ğŸ¯ ì¥ì 

1. **ì•ˆì „ì„±**: ê° í™˜ê²½ì´ ì™„ì „íˆ ë…ë¦½ì 
2. **ìœ ì—°ì„±**: í™˜ê²½ë³„ ë‹¤ë¥¸ ë²„ì „ ë°°í¬ ê°€ëŠ¥
3. **ë¡¤ë°± ìš©ì´**: ì´ì „ ë°°í¬ ìƒíƒœ ìœ ì§€
4. **ê°œë°œ í¸ì˜**: srcì—ì„œë§Œ ì‘ì—…í•˜ë©´ ë¨

---

*ì´ì œ ì½”ë“œì™€ í™˜ê²½ì´ ì™„ì „íˆ ë¶„ë¦¬ë˜ì–´ ì•ˆì „í•˜ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!*